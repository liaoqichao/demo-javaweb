<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../js/jquery.js"></script>
</head>
<style type="text/css">
<!--

BODY
{   
	font-size: 12px;
	margin:0px 0px 0px 0px;
	overflow-x:no;
	overflow-y:no;
	background-color: #B8D3F4;
}

.default_input
{
	border:1px solid #666666;
	height:18px;
	font-size:12px;
}
.default_input2
{
	border:1px solid #666666;
	height:18px;
	font-size:12px;
}
.nowrite_input
{
	border:1px solid #849EB5;
	height:18px;
	font-size:12px;
	background-color:#EBEAE7;
	color: #9E9A9E;
}
.default_list
{
	font-size:12px;
  border:1px solid #849EB5;
}
.default_textarea
{
	font-size:12px;
	border:1px solid #849EB5;
}

.nowrite_textarea
{
	border:1px solid #849EB5;
	font-size:12px;
	background-color:#EBEAE7;
	color: #9E9A9E;
}

.wordtd5 {
	font-size: 12px;
	text-align: center;
	vertical-align:top;
	padding-top: 6px;
	padding-right: 5px;
	padding-bottom: 3px;
	padding-left: 5px;
	background-color: #b8c4f4;
}

.wordtd {
	font-size: 12px;
	text-align: left;
	vertical-align:top;
	padding-top: 6px;
	padding-right: 5px;
	padding-bottom: 3px;
	padding-left: 5px;
	background-color: #b8c4f4;
}
.wordtd_1 {
	font-size: 12px;
	vertical-align:top;
	padding-top: 6px;
	padding-right: 5px;
	padding-bottom: 3px;
	padding-left: 5px;
	background-color: #516CD6;
	color:#fff;
}
.wordtd_2{
	font-size: 12px;
	text-align: right;
	vertical-align:top;
	padding-top: 6px;
	padding-right: 5px;
	padding-bottom: 3px;
	padding-left: 5px;
	background-color: #64BDF9;
}
.wordtd_3{
	font-size: 12px;
	text-align: right;
	vertical-align:top;
	padding-top: 6px;
	padding-right: 5px;
	padding-bottom: 3px;
	padding-left: 5px;
	background-color: #F1DD34;
}
.inputtd
{
	font-size:12px;
	vertical-align:top;
	padding-top: 3px;
	padding-right: 3px;
	padding-bottom: 3px;
	padding-left: 3px;
}
.inputtd2
{
	text-align: center;
	font-size:12px;
	vertical-align:top;
	padding-top: 3px;
	padding-right: 3px;
	padding-bottom: 3px;
	padding-left: 3px;
}
.tablebg
{
	font-size:12px;
}

.tb{
	border-collapse: collapse;
	border: 1px outset #999999;
	background-color: #FFFFFF;
}
.td2{line-height:22px; text-align:center; background-color:#F6F6F6;}
.td3{background-color:#B8D3F4; text-align:center; line-height:20px;}
.td4{background-color:#F6F6F6;line-height:20px;}
.td5{border:#000000 solid;
       border-right-width:0px;
	   border-left-width:0px;
	   border-top-width:0px;
	   border-bottom-width:1px;}

.tb td{
font-size: 12px;
border: 2px groove #ffffff;
}




.noborder {
	border: none;
}

.button {
	border: 1px ridge #ffffff;
	line-height:18px;
	height: 20px;
	width: 45px;
	padding-top: 0px;
	background:#CBDAF7;
	color:#000000;
	font-size: 9pt;
} 

.textarea {
	font-family: Arial, Helvetica, sans-serif, "??";
	font-size: 9pt;
	color: #000000;
	border-bottom-width: 1px;
	border-top-style: none;
	border-right-style: none;
	border-bottom-style: solid;
	border-left-style: none;
	border-bottom-color: #000000;
	background-color:transparent;
	text-align: left
}
-->
</style></head>

<body>
<h1 align="center">jQuery节点操作练习</h1>
<div style="border:1px dashed #E6E6E6;margin:150px 0px 0px 450px; width:350px; height:200px; background-color:#E6E6E6;">
<table width="285" height="169" border="0" align="left" cellpadding="0" cellspacing="0" style="margin:15px 0px 0px 15px;">
  <tr>
    <td width="126">
    	<!--multiple="multiple" 能同时选择多个   size="10"  确定下拉选的长度-->
		<select name="first" size="10" multiple="multiple" class="td3" id="first">
		  <option value="选项1">选项1</option>
		  <option value="选项2">选项2</option>
		  <option value="选项3">选项3</option>
		  <option value="选项4">选项4</option>
		  <option value="选项5">选项5</option>
		  <option value="选项6">选项6</option>
		  <option value="选项7">选项7</option>
		  <option value="选项8">选项8</option>
		</select>    
	</td>
    <td width="69" valign="middle">
       <input name="add"  id="add" type="button" class="button" value="-->" /> 
       <input name="add_all" id="add_all" type="button" class="button" value="==>" /> 
       <input name="remove"  id="remove" type="button" class="button" value="&lt;--" />
	   <input name="remove_all" id="remove_all" type="button" class="button" value="&lt;==" />
        </td>
    <td width="127" align="left">
	  <select name="second" size="10" multiple="multiple" class="td3" id="second">
         <option value="选项9">选项9</option>
      </select>
	</td>
  </tr>
</table>
</div>
<script type="text/javascript">
$(document).ready(function(){
		
	$('#add').click(function(){
		// 1.获取id=first的select标签被选中的元素。注意：这里被选中是option被选中，不是select被选中
		// 2.获取id=second的select标签
		// 3.通过append或appendTo移动标签
		
		// 1. 
		var $options = $('#first option:selected');
		// 2. 
		var $second = $('#second');
		// 3.
		$second.append($options);
		
	});
	
	$('#add_all').click(function(){
		// 1.获取id=first的select标签中所有option标签
		// 2.获取id=second的select标签
		// 3.通过append或appendTo移动标签
		
		// 1. 
		var $options = $('#first option');
		// 2. 
		var $second = $('#second');
		// 3.
		$options.appendTo($second);
	});
	
	$('#remove').click(function(){
		// 1.获取id=second的select标签中的被选中的元素
		// 2.获取id=firse的select标签
		// 3.通过append或appendTo移动标签
		
		// 1.
		var $options = $('#second option:selected');
		// 2.
		var $first = $('#first');
		// 3. 
		$first.append($options);
	});
	$('#remove_all').click(function(){
		// 1.获取id=second的select标签中所有option标签
		// 2.获取id=firse的select标签
		// 3.通过append或appendTo移动标签
		
		// 1.
		var $options = $('#second option');
		// 2. 
		var $first = $('#first');
		// 3.
		$options.appendTo($first);
	});
	
// 	$('#first>option').dblclick(function(){
// 		// 1. 获取id=second标签的select标签
// 		// 2(不行). 通过通过append或appendTo，把本对象（this）移动到id=second的select标签 // 不行，再次双击回不来
// 		//  -------------------------------
// 		// 1. 获取id=second标签的select标签
// 		// 2. 克隆本节点,参数要为true，连双击事件一起克隆
// 		// 3. 把克隆节点添加到id=second的selct标签
// 		// 4. 删除本节点
		
// 		alert($(this).parent().attr("id"));
// 		// 1. 
// 		var $second = $('#second');
// 		// 2. 
// 		$second.append($(this));
// // 		// 2.
// // 		var $clone = $(this).clone(true);
// // 		// 3. 
// // 		$second.append($clone);
// // 		// 4.
// // 		this.remove();
		
// 	});
// 	$('#second>option').dblclick(function(){
// 		// 1. 获取id=first标签的select标签
// 		// 2. 克隆本节点clone(true)
// 		// 3. 把克隆节点添加到id=first的select节点
// 		// 4. 删除本节点
		
// 		alert($(this).parent().attr("id"));
// 		// 1. 
// 		var $first = $('#first');
// 		// 2. 
// 		$first.append($(this));
// // 		// 2.
// // 		var $clone = $(this).clone(true);
// // 		// 3. 
// // 		$clone.appendTo($first);
// // 		// 4.
// // 		this.remove();
// 	});

	//  --  上面的两个方法都是过去了就回不来 --
	$('option').dblclick(function(){
		// 1. 获取两个select标签
		// 2. 判断当前触发事件的option属于哪个标签，如果属于id=fisrt的selct标签，则移动this到id=second的标签
		// 3. 如果属于id=second的selct标签，则移动this到id=first的标签
		// 4. 如果以上两种情况都不是，弹出提示框。
		
		// 1. 
		var $first = $('#first');
		var $second = $('#second');
		
		// 2. 
		if($(this).parent().attr("id") == $first.attr("id")){
			$second.append($(this));
		} else if($(this).parent().attr("id") == $second.attr("id")){  // 3.
			$first.append($(this));			
		} else{ // 4. 
			alert("逻辑错误");
		}
	});
	
});

</script>
</body>
</html>